% view.layout = 'default';
% ctx.stash.title = "Recipes List"
<div style="background-color: #FAF3F0; min-height: 100vh; padding: 2rem;">
   <!-- 左侧动画和标题 -->
  <div style="width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; margin-bottom: 2rem;">
    <div style="display: flex; flex-direction: row; align-items: center; justify-content: center; width: 100%; max-width: 1200px;">
      <div class="wrapper" style="width: 100%; display: flex; align-items: center; justify-content: center; min-height: 120px; max-width: 260px;">
        <svg style="width: 100%; height: 120px;">
          <text x="50%" y="50%" dy=".35em" text-anchor="middle" style="font-family: 'Russo One', 'Courier New', Courier, monospace; font-size: 48px; fill: #365FA0;">Bla + Bla</text>
        </svg>
      </div>
      <div style="padding-left: 0.5rem; width: 100%; display: flex; flex-direction: column; align-items: center; max-width: 340px;">
        <h1 style="font-family: 'Russo One', 'Arial Black', sans-serif; font-size: 2.5rem; margin: 0; color: #2d2d2d; letter-spacing: 2px; text-align: center;">BlaBites</h1>
        <h3 style="font-family: 'Caveat', 'Comic Sans MS', cursive; font-size: 1.2rem; margin: 0.5rem 0 1.2rem 0; color: #365FA0; font-weight: normal; text-align: center;">come join to share recipes & make friends</h3>
      </div>
    </div>
  </div>
  <!-- 主要内容区域 -->
  <div style="display: flex; gap: 2rem; flex-wrap: wrap;">
    <!-- Recipes of the Month -->
    <div style="width: 33.3333%; min-width: 300px; max-width: 33.3333%; box-sizing: border-box; display: flex; flex-direction: column; overflow: hidden;">
      <h2 style="font-family: 'Russo One', sans-serif; color: #8B0000; margin-bottom: 1.5rem; word-break: break-all; overflow-wrap: break-word;">Recipes of the Month</h2>
      % const top3 = ctx.stash.recipes.slice(0, 3);
      <!-- Top 1 Recipe -->
      % if (top3[0]) {
      <div style="background: white; border: 2px solid #8B0000; border-radius: 16px; padding: 1.5rem; margin-bottom: 1.5rem; box-sizing: border-box; overflow: hidden; width: 100%;">
        <h3 style="font-family: 'Russo One', sans-serif; color: #8B0000; margin: 0 0 1rem 0; word-break: break-all; overflow-wrap: break-word;">Top 1 Recipe</h3>
        <a href="/recipes/<%= top3[0].recipe_id %>" style="display: block; width: 100%; max-width: 100%; height: 200px; background: #F5E6E6; border-radius: 8px; margin-bottom: 1rem; overflow: hidden; text-decoration: none; cursor: pointer;">
          <div style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center;">
            <svg width="120" height="120" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                <rect x="10" y="10" width="100" height="100" rx="15" fill="#FAF3F0" stroke="#8B0000" stroke-width="2"/>
                <circle cx="60" cy="55" r="25" fill="#F5E6E6" stroke="#8B0000" stroke-width="1.5"/>
                <rect x="35" y="85" width="50" height="12" rx="6" fill="#8B0000" opacity="0.7"/>
                <text x="60" y="58" text-anchor="middle" dy=".35em" font-size="14" fill="#8B0000" font-family="Arial, sans-serif"><%= top3[0].title %></text>
            </svg>
          </div>
        </a>
      </div>
      % }

      <!-- Top 2 & 3 -->
      <div style="display: flex; gap: 1rem; width: 100%; box-sizing: border-box; overflow: hidden;">
        % if (top3[1]) {
        <div style="flex: 1; background: white; border: 2px solid #8B0000; border-radius: 16px; padding: 1rem; box-sizing: border-box; overflow: hidden; min-width: 0;">
          <h3 style="font-family: 'Russo One', sans-serif; color: #8B0000; margin: 0 0 0.8rem 0; font-size: 1rem; word-break: break-all; overflow-wrap: break-word;">Top 2</h3>
          <div style="width: 100%; max-width: 100%; height: 120px; background: #F5E6E6; border-radius: 8px; display: flex; align-items: center; justify-content: center; overflow: hidden;">
            <svg width="120" height="120" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
              <rect x="10" y="10" width="100" height="100" rx="15" fill="#FAF3F0" stroke="#8B0000" stroke-width="2"/>
              <circle cx="60" cy="55" r="25" fill="#F5E6E6" stroke="#8B0000" stroke-width="1.5"/>
              <rect x="35" y="85" width="50" height="12" rx="6" fill="#8B0000" opacity="0.7"/>
              <text x="60" y="58" text-anchor="middle" dy=".35em" font-size="14" fill="#8B0000" font-family="Arial, sans-serif"><%= top3[1].title %></text>
            </svg>
          </div>
        </div>
        % }
        % if (top3[2]) {
        <div style="flex: 1; background: white; border: 2px solid #8B0000; border-radius: 16px; padding: 1rem; box-sizing: border-box; overflow: hidden; min-width: 0;">
          <h3 style="font-family: 'Russo One', sans-serif; color: #8B0000; margin: 0 0 0.8rem 0; font-size: 1rem; word-break: break-all; overflow-wrap: break-word;">Top 3</h3>
          <div style="width: 100%; max-width: 100%; height: 120px; background: #F5E6E6; border-radius: 8px; display: flex; align-items: center; justify-content: center; overflow: hidden;">
            <svg width="120" height="120" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
              <rect x="10" y="10" width="100" height="100" rx="15" fill="#FAF3F0" stroke="#8B0000" stroke-width="2"/>
              <circle cx="60" cy="55" r="25" fill="#F5E6E6" stroke="#8B0000" stroke-width="1.5"/>
              <rect x="35" y="85" width="50" height="12" rx="6" fill="#8B0000" opacity="0.7"/>
              <text x="60" y="58" text-anchor="middle" dy=".35em" font-size="14" fill="#8B0000" font-family="Arial, sans-serif"><%= top3[2].title %></text>
            </svg>
          </div>
        </div>
        % }
      </div>
    </div>

    <!-- Recent Recipes -->
    <div style="flex: 2; min-width: 600px;">
      <h2 style="font-family: 'Russo One', sans-serif; color: #8B0000; margin-bottom: 1.5rem;">Recent Recipes</h2>
      <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.5rem;">
        % const recent6 = ctx.stash.recipes.slice(0, 6);
        % for (const recipe of recent6) {
        <div style="background: white; border: 2px solid #8B0000; border-radius: 16px; padding: 1rem;">
          <h3 style="font-family: 'Russo One', sans-serif; color: #8B0000; margin: 0 0 0.8rem 0; font-size: 1rem;">Recipe <%= recipe.title %></h3>
          <div style="width: 100%; height: 150px; background: #F5E6E6; border-radius: 8px; display: flex; align-items: center; justify-content: center;">
            <svg width="120" height="120" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
              <rect x="10" y="10" width="100" height="100" rx="15" fill="#FAF3F0" stroke="#8B0000" stroke-width="2"/>
              <circle cx="60" cy="55" r="25" fill="#F5E6E6" stroke="#8B0000" stroke-width="1.5"/>
              <rect x="35" y="85" width="50" height="12" rx="6" fill="#8B0000" opacity="0.7"/>
              <text x="60" y="58" text-anchor="middle" dy=".35em" font-size="14" fill="#8B0000" font-family="Arial, sans-serif"><%= recipe.title %></text>
            </svg>
          </div>
        </div>
        % }
      </div>
    </div>
  </div>
</div>
